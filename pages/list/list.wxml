<!--pages/list/list.wxml-->
<view class="main">
  <!-- 左侧菜单 -->
  <scroll-view scroll-y class="list-left">
    <view wx:for="{{listData}}" wx:key='unique' data-index="{{index}}" bindtap="selectMenu">
      <view class="list-menu {{curIndex === index ? 'on' : ''}}">{{item.name}}</view>    
    </view>
  </scroll-view>
  <!-- 右侧菜单 -->
  <scroll-view class="list-right" scroll-y="{{true}}" scroll-into-view="{{toView}}" scroll-with-animation="{{true}}" bindscroll="scroll">
    <view  class="content-box" id="type{{index}}" wx:for="{{listData}}" wx:key='unique'>
      <view class="list-hd">{{item.name}}</view>
      <view class="content-list" wx:for="{{item.foods}}" wx:key='unique' wx:for-item="items" wx:for-index="indexs">
        <view class="list-img_box">
          <image class="img" src="{{items.image_url}}" />
        </view>
        <view class="list-item">
          <view>{{items.name}}</view>
          <view class="item-name">
            <text class="item-text">￥</text>{{items.specfoods[0].price}}.0 <text class="item-text">起</text>
            <image class="jiahao" data-index="{{index}}" data-type="{{index}}" src="../../images/jiahao.png" bindtap="selectInfo"/>
          </view>
        </view>
      </view>
    </view>
  </scroll-view>
</view>
<!-- 选择弹框 -->
<view class="select-screen" bindtap="{{selectInfo}}" data-statu="close" wx:if="{{showModal}}"></view>
<view class="selected-box" wx:if="{{showModal}}">
  <view class="selected-content">
    <view class="selected-name">{{listData[currentType].foods[currentIndex].name}}</view>
    <view class="select-nav">加料</view>
    <view class="ctxFlex">
      <view class="select-ctx {{index === moreIndex ? 'on': ''}}" wx:for="{{more}}" wx:key='unique' data-type="0" data-index="{{index}}" bindtap="choose">{{item}}</view>
    </view>
    <view class="select-nav">温度</view>
    <view class="ctxFlex">
      <view class="select-ctx {{index === temIndex ? 'on': ''}}" wx:for="{{tem}}" wx:key='unique' data-type="1" data-index="{{index}}" bindtap="choose">{{item}}</view>
    </view>
    <view class="select-nav">糖度</view>
    <view class="ctxFlex">
      <view class="select-ctx {{index === sugarIndex ? 'on': ''}}" wx:for="{{sugar}}" wx:key='unique' data-type="2" data-index="{{index}}" bindtap="choose">{{item}}</view>
    </view>
    <view class="select-price">¥{{listData[currentType].foods[currentIndex].specfoods[0].price}}.0
      <button class="btn-putIn" bindtap='addToCart'>加入购物车</button>
    </view>
  </view>
</view>